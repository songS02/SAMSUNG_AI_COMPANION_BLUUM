// samsung_03_surprise.ino - 트래킹 모션 포함 메인 실행 파일

#include "control.h"

void setup() {
  initNeoPixel();  // NeoPixel 초기화
}

void loop() {
  static bool done = false;
  
  if (!done) {
    unsigned long start = millis();
    
    // 통합 시퀀스 실행 (17초까지 30% 유지 + 트래킹 모션)
    sequenceWithTracking();
    
    unsigned long elapsed = millis() - start;
    
    done = true;
  }
}

/*
=== 매트릭스 구조 ===
- 16x32 매트릭스 (16개 세로 열, 각 열당 32개 픽셀)
- 왼쪽 반절만 사용: 0~7번 열 (8개 세로 열)
- 오른쪽 반절: 8~15번 열 (항상 OFF)

=== 통합 시퀀스 타임라인 ===

[기존 패턴 - 17초까지]
0초: 30% 시작
1.8초: 30% → 70% 전환 (0.2초)
2-3.8초: 70% 유지
3.8-4초: 70% → 30% 전환 (0.2초)
4-5.8초: 30% 유지
5.8-6초: 30% → 70% 전환 (0.2초)
6-7.8초: 70% 유지
7.8-8초: 70% → 30% 전환 (0.2초)
8-9.8초: 30% 유지
9.8-10초: 30% → 70% 전환 (0.2초)
10초: 70% → 100% 즉시 전환
10-12초: 100% 유지
12-12.2초: 100% → 30% 전환 (0.2초)
12.2-17초: 30% 유지 (4.8초)

[트래킹 모션 - 17초부터]
17-19초: 오른쪽(7열)에서 왼쪽(0열)으로 이동 (가속도 적용)
19-20초: 왼쪽에서 1초 대기
20-21.5초: 왼쪽(0열)에서 중간(5열)으로 이동 (가속도 적용)
21.5-22.5초: 중간 위치 유지
22.5-23초: 페이드 아웃

총 동작 시간: 약 23초

=== 트래킹 모션 특징 ===
- 16x32 매트릭스의 왼쪽 반절(8개 세로 열)만 사용
- 1개 세로 열이 그라데이션과 함께 부드럽게 이동
- easeInOutCubic: 시작과 끝은 느리고 중간에 빠른 가속
- easeOutCubic: 처음 빠르고 점점 감속
- 가우시안 분포를 이용한 부드러운 그라데이션 효과
- 30% 밝기로 트래킹 모션 실행

=== 색상 정의 ===
30% 컬러: RGB(110, 110, 60)
70% 컬러: RGB(140, 140, 60)
100% 컬러: RGB(180, 180, 70)
트래킹 컬러: RGB(110, 110, 60) - 30% 밝기
*/